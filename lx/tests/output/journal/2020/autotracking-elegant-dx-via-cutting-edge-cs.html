<html>
                            <head>
                                <link rel="stylesheet" href="/light.css" media="(prefers-color-scheme: light)" />
                                <link rel="stylesheet" href="/dark.css" media="(prefers-color-scheme: dark)" />
                            </head>
                            <body>
                                <p>One of the key features of <a href="https://emberjs.com">Ember Octane</a> is <em>autotracking</em>, a lightweight reactivity system powered by Lamport clocks, incremental computation, and depth-first-searches‚Äîwhich allows you to write code like this, and have it <em>Just Work‚Ñ¢</em>:</p>
<pre><code class='JavaScript'><span class="source js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="variable other readwrite js">Component</span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/component<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">tracked</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/tracking<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="storage modifier extends js">extends</span> <span class="entity other inherited-class js">Component</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  @tracked name = &#39;&#39;;

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">remaining</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">showError</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = ({ target: { value <span class="punctuation section block js">}</span></span></span></span> }<span class="invalid illegal stray-bracket-end js">)</span> <span class="storage type function arrow js">=&gt;</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">value</span><span class="punctuation terminator statement js">;</span>
}
</span></code></pre><pre><code>&lt;div&gt;
  &lt;input {{on &quot;input&quot; this.updateName}} value={{this.name}} /&gt;
  &lt;p class={{if this.showError &quot;error&quot;}}&gt;
    ({{this.remaining}} remaining)
  &lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>There are a handful of interesting features to note about this code‚Äôs approach to reactivity. We decorate <em>one</em> piece of state, <code>name</code>, with <code>@tracked</code>, and the rest of the state updates automatically‚Äîincluding the <code>showError</code> and <code>remaining</code> properties, which don‚Äôt even refer to <code>name</code> directly. All of this with a particularly light touch:</p>
<ul>
<li>
<p>There is no need to mark dependent keys on the getters (as in classic Ember components) and no need for a <code>computed</code> hash (as in Vue 2) for derived state: these are plain JavaScript getters.</p>
</li>
<li>
<p>There is no need for a dedicated utility like <code>setState</code> like in React‚Äôs class-based components or <code>set</code> from Ember Classic; this code just uses standard JavaScript assignment to update the value of <code>name</code>.</p>
</li>
<li>
<p>This does not use two-way binding like <em>really old</em> Ember did or current day Angular or Vue do<sup class="footnote-reference"><a href="#vue-2wb">1</a></sup>‚Äîupdates are explicit, but brief.</p>
</li>
</ul>
<p>This can look like magic when you first encounter it‚Äîespecially the way undecorated getters update on demand. In fact, though, it‚Äôs <em>Just JavaScript‚Ñ¢</em>, built on standard JavaScript patterns and a mix of computer science ideas ranging from tried-and-true ideas from decades ago to cutting-edge research. In the rest of this post, we‚Äôll see how it works.</p>
<div class="footnote-definition" id="vue-2wb"><sup class="footnote-definition-label">1</sup>
<p>Vue does not <em>require</em> two-way binding, but does make it <em>easy</em>.</p>
</div>
<h2>How getters work</h2>
<p>First, let‚Äôs make sure we have a clear handle on how getters work in JavaScript in general. Once you understand this, seeing how autotracking works will be much easier. (If you already have a good understanding of the semantics and behavior of getters vs. assignment, feel free to <a href="#autotracking">skip to the next section</a>.) We‚Äôll start by looking at the exact same class we started with, but with all of the Glimmer and DOM details removed, a constructor added, and continuing to use the same function style for <code>updateName</code>:<sup class="footnote-reference"><a href="#updateName-style">2</a></sup></p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  name;

  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">remaining</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">showError</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = (value) =&gt; this.name = value;
<span class="punctuation section block js">}</span></span></span></span>
</span></code></pre>
<p>Whenever we look up <code>nameLength</code> from somewhere else‚Äî</p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">let</span> <span class="variable other readwrite js">personInfo</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">PersonInfo</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span> <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> 5
</span></span></code></pre>
<p>‚Äîthe <code>nameLength</code> property (technically an <em>accessor</em>) executes as if it were a function. Before JS had native getters, that‚Äôs how we would have written it, and we still <em>could</em> write it that way:</p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  name;

  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="entity name function js">remaining</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">nameLength</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="entity name function js">showError</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = (value) =&gt; this.name = value;
<span class="punctuation section block js">}</span></span></span></span>

<span class="storage type js">let</span> <span class="variable other readwrite js">personInfo</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">PersonInfo</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">nameLength</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
</span></code></pre>
<p>Notice the two differences here: <code>personInfo.nameLength()</code> instead of <code>personInfo.nameLength¬†</code>, and <code>nameLength() { ... }</code> instead of <code>get nameLength() { ... }</code>. These are effectively the same: both are functions which compute a value.</p>
<p>The other thing to notice here is that method invocations and getter lookups are both ‚Äúlazy:‚Äù they run on demand. Until you actually invoke the method or the getter, there is a reference to a function as part of the class, but there isn‚Äôt any value computed by it. This is different from assigning a property directly. For example, if we assigned the values of <code>nameLength</code>, <code>remaining</code>, and <code>showError</code> in the constructor, they would <em>initially</em> have the same values as in the lazy version, but it would immediately get out of sync if you <em>changed</em> the value of <code>name</code> later:</p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  name;
  nameLength;
  remaining;
  showError;

  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span> <span class="keyword operator assignment js">=</span> <span class="variable other object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator assignment js">=</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span><span class="punctuation terminator statement js">;</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">showError</span> <span class="keyword operator assignment js">=</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = (value) =&gt; this.name = value;
<span class="punctuation section block js">}</span></span></span></span>

<span class="storage type js">let</span> <span class="variable other readwrite js">personInfo</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">PersonInfo</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span> <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> 5
</span>
<span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">updateName</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris Krycho<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span> <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> still 5 üò≠
</span></span></code></pre>
<p>Doing this ‚Äúeagerly‚Äù means that we computed the values of <code>name</code>, <code>nameLength</code>, and <code>remaining</code> when we assigned each of the derived properties, <code>nameLength</code>, <code>remaining</code>, and <code>showError</code>. We did <em>not</em> create a function which references those properties, which we could use to evaluate their values at a later time. To do that in the constructor, we could define <code>nameLength</code>, <code>remaining</code>, and <code>showError</code> as arrow functions, taking advantage of the fact that closures get a reference to the values they use from their enclosing scope:<sup class="footnote-reference"><a href="#closures-classes">3</a></sup></p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  name;
  nameLength;
  remaining;
  showError;

  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
    <span class="meta function declaration js"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js"><span class="entity name function js">nameLength</span></span> <span class="keyword operator assignment js">=</span> </span><span class="meta function declaration js"><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span><span class="storage type function arrow js">=&gt;</span></span> <span class="meta block js"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span></span><span class="punctuation terminator statement js">;</span>
    <span class="meta function declaration js"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js"><span class="entity name function js">remaining</span></span> <span class="keyword operator assignment js">=</span> </span><span class="meta function declaration js"><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span><span class="storage type function arrow js">=&gt;</span></span> <span class="meta block js"><span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span></span><span class="punctuation terminator statement js">;</span>
    <span class="meta function declaration js"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js"><span class="entity name function js">showError</span></span> <span class="keyword operator assignment js">=</span> </span><span class="meta function declaration js"><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span><span class="storage type function arrow js">=&gt;</span></span> <span class="meta block js"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span></span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = (value) =&gt; this.name = value;
<span class="punctuation section block js">}</span></span></span></span>

<span class="storage type js">let</span> <span class="variable other readwrite js">personInfo</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">PersonInfo</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">nameLength</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span> <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> 5
</span>
<span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">updateName</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris Krycho<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">nameLength</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span> <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> 12
</span></span></code></pre>
<p>But calling <code>personInfo.nameLength()</code> like this looks awfully familiar: it‚Äôs the same as the class method version we might have used before we had native getters. We‚Äôre back to where we started, in other words.</p>
<p>The values a function uses are only evaluated when the function is invoked, whether the function in question is a standalone function, a class method, or a getter. If we have a <em>chain</em> of getters (or methods or functions), none of them will be reinvoked until the one at the end of the chain is. We won‚Äôt evaluate any of the values they reference until we access a getter which uses them. As a result, any time we evaluate a getter, we‚Äôll always get an up-to-date version of all the values involved. We can add some logging to the getters in <code>PersonInfo</code> to see how this behaves:</p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  name;

  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>evaluating `nameLength`<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">remaining</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>evaluating `remaining`<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
    <span class="keyword control flow js">return</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">showError</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>evaluating `showError`<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = (value) =&gt; this.name = value;
<span class="punctuation section block js">}</span></span></span></span>
</span></code></pre>
<p>If we create and use a <code>PersonInfo</code> like this‚Äî</p>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">let</span> <span class="variable other readwrite js">personInfo</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">PersonInfo</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span> --- 1 --- <span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">showError</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span><span class="constant character escape js">\n</span> --- 2 --- <span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span><span class="constant character escape js">\n</span> --- 3 --- <span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">updateName</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris Krycho<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">personInfo</span><span class="punctuation accessor js">.</span><span class="meta property object js">showError</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
</span></code></pre>
<p>‚Äîthe console output would read:</p>
<pre><code> --- 1 --- 
evaluating `showError`
evaluating `remaining`
evaluating `nameLength`
false

 --- 2 --- 
evaluating `nameLength`
5

 --- 3 --- 
evaluating `remaining`
evaluating `nameLength`
-2
evaluating `showError`
evaluating `remaining`
evaluating `nameLength`
true
</code></pre>
<p>In this example, the JavaScript I‚Äôve written evaluates the values directly when logging them. When we use a value in a template in Ember or Glimmer apps, the template engine (the Glimmer VM) evaluates those values. The VM uses a lightweight reactivity system called <em>autotracking</em> to track which items in the UI need to be updated in any render. The next step, then, is understanding autotracking.</p>
<div class="footnote-definition" id="updateName-style"><sup class="footnote-definition-label">2</sup>
<p>We could switch to a class method here, but we‚Äôd just have to switch back later when we come back to the component code again. For Ember users reading this: yes, you <em>can</em> use this approach, although it‚Äôs currently idiomatic to use <code>@action</code>. </p>
</div>
<div class="footnote-definition" id="closures-classes"><sup class="footnote-definition-label">3</sup>
<p>It‚Äôs also worth seeing how closures are the <a href="https://en.wikipedia.org/wiki/Duality_(mathematics)">dual</a> of classes. These two have <em>the same semantics</em> as far as an end user is concerned:</p>
<pre><code class='JavaScript'><span class="source js"><span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonA</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  #age;
  #name;

  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation separator parameter function js">,</span> <span class="variable parameter function js">age</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">age</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">age</span><span class="punctuation terminator statement js">;</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">description</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="string template js"><span class="punctuation definition string template begin js">`</span></span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">name</span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js"> is </span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">age</span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js"> years old!<span class="punctuation definition string template end js">`</span></span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="entity name function js">haveABirthday</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">age</span> <span class="keyword operator assignment augmented js">+=</span> <span class="constant numeric js">1</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="entity name function js">changeNameTo</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">newName</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">newName</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>
<span class="punctuation section block js">}</span></span></span>

<span class="meta function declaration js"><span class="storage type function js">function</span> <span class="entity name function js">PersonB</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">name</span><span class="punctuation separator parameter function js">,</span> <span class="variable parameter function js">age</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
  <span class="storage type js">let</span> <span class="variable other readwrite js">_name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
  <span class="storage type js">let</span> <span class="variable other readwrite js">_age</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">age</span><span class="punctuation terminator statement js">;</span>

  <span class="keyword control flow js">return</span> <span class="meta object-literal js"><span class="punctuation section block js">{</span>
    <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">description</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
      <span class="keyword control flow js">return</span> <span class="string template js"><span class="punctuation definition string template begin js">`</span></span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable other readwrite js">_name</span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js"> is </span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable other readwrite js">_age</span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js"> years old!<span class="punctuation definition string template end js">`</span></span><span class="punctuation terminator statement js">;</span>
    <span class="punctuation section block js">}</span></span><span class="punctuation separator comma js">,</span>

    <span class="meta function declaration js"><span class="entity name function js">haveABirthday</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
      <span class="variable other readwrite js">_age</span> <span class="keyword operator assignment augmented js">+=</span> <span class="constant numeric js">1</span><span class="punctuation terminator statement js">;</span>
    <span class="punctuation section block js">}</span></span><span class="punctuation separator comma js">,</span>

    <span class="meta function declaration js"><span class="entity name function js">changeNameTo</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">newName</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
      <span class="variable other readwrite js">_name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">newName</span><span class="punctuation terminator statement js">;</span>
    <span class="punctuation section block js">}</span></span><span class="punctuation separator comma js">,</span>
  <span class="punctuation section block js">}</span></span><span class="punctuation terminator statement js">;</span>
<span class="punctuation section block js">}</span></span>
</span></code></pre>
<p>Bonus: this is actually a critical part of how <a href="https://reactjs.org/docs/hooks-intro.html">React Hooks</a> work under the hood.</p>
</div>
<h2>Autotracking</h2>
<p>Autotracking is a lightweight reactivity system, composed of three ideas:<sup class="footnote-reference"><a href="#mobx-redux-too">4</a></sup></p>
<ol>
<li>
<p>Create a single global ‚Äúclock:‚Äù a single integer, only ever increasing,<sup class="footnote-reference"><a href="#monotonic">5</a></sup> counting how many times any ‚Äútracked‚Äù state in your system has changed.</p>
</li>
<li>
<p>‚ÄúTrack‚Äù each piece of data in your system that you care about reacting to. Whenever any tracked data changes, increment the global clock (1) and associate the updated global clock value with the data that just changed.</p>
</li>
<li>
<p>Whenever you compute a value for a template,<sup class="footnote-reference"><a href="#reactive-contexts">6</a></sup> note any tracked values used in the computation, storing their global clock values. Combined with (2), these can be used to know when to <em>re</em>-compute template values.</p>
</li>
</ol>
<p>The autotracking runtime implements exactly these three ideas: (1) a global clock (2) which is connected to tracked state (3) to know when to recompute the values in templates. The global clock is extremely simple: it really is <a href="https://github.com/glimmerjs/glimmer-vm/blob/520fb6f75897e89bea5231f83f5b01bf0bd94fc7/packages/%40glimmer/validator/lib/validators.ts#L14:L18">just an integer</a>. The more interesting bits are the <em>other</em> ideas: (2) connecting tracked state to the global clock, and (3) using that connection to know when to recompute values in templates.</p>
<div class="footnote-definition" id="mobx-redux-too"><sup class="footnote-definition-label">4</sup>
<p>These same ideas‚Äîwhich are used for Ember‚Äôs template layers today‚Äîcan also be used to implement pay-as-you-go reactivity in totally different reactivity models. For example, you can use it to reimplement <a href="https://github.com/pzuraq/trackedx">MobX</a> or <a href="https://github.com/pzuraq/tracked-redux">Redux</a>.</p>
</div>
<div class="footnote-definition" id="monotonic"><sup class="footnote-definition-label">5</sup>
<p>That is: <a href="https://en.wikipedia.org/wiki/Monotonic_function"><em>monotonically</em> increasing</a>.</p>
</div>
<div class="footnote-definition" id="reactive-contexts"><sup class="footnote-definition-label">6</sup>
<p>Today, the only reactive context Ember has is its template layer, where values you render or pass as arguments to components, modifiers, or helpers are all <em>reactive</em>. <a href="https://emberjs.github.io/rfcs/0626-invoke-helper.html">Soon</a>, though, we will also have reactive functions available in JavaScript contexts, which will make the reactivity system fully general!</p>
</div>
<h3>(2) Tracked state</h3>
<p>Decorating a property with <code>@tracked</code> sets up a getter and a setter for a tracked property, and both connect to the global clock. When you write this‚Äî</p>
<pre><code class='JavaScript'><span class="source js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">tracked</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/tracking<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  @tracked name = &#39;&#39;;
<span class="punctuation section block js">}</span></span></span>
</span></code></pre>
<p>‚Äîit turns into something which acts more like this, where <code>markAsUsed</code> says that a property was <em>read</em> and <code>markAsChanged</code> says it was <em>set</em>:</p>
<pre><code class='JavaScript'><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> THESE IMPORTS ARE NOT REAL
</span><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">markAsUsed</span><span class="punctuation separator comma js">,</span> <span class="variable other readwrite js">markAsChanged</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/...<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">Person</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> THIS IMPLEMENTATION IS NOT THE REAL ONE EITHER
</span>  #name;

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">name</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="meta function-call js"><span class="variable function js">markAsUsed</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable language this js">this</span><span class="punctuation separator comma js">,</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>name<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">name</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">set</span> <span class="entity name function js">name</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">newValue</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="meta function-call js"><span class="variable function js">markAsChanged</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable language this js">this</span><span class="punctuation separator comma js">,</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>name<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span>#<span class="variable other readwrite js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">newValue</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>
<span class="punctuation section block js">}</span></span></span>
</span></code></pre>
<p>This is <em>not</em> the actual implementation‚Äîfor one thing, you can‚Äôt use a decorator to change imports like this!‚Äîbut it <em>is</em> the right mental model.<sup class="footnote-reference"><a href="#actual-impl">7</a></sup> Reading a tracked property always invokes <code>markAsUsed</code>, and setting it always invokes <code>markAsChanged</code>. (This is no different from the logging we added manually in the <code>PersonInfo</code> example earlier!)</p>
<div class="footnote-definition" id="actual-impl"><sup class="footnote-definition-label">7</sup>
<p>In the actual implementation, <code>@tracked</code> is actually implemented using a closure in another module, which uses functions named <code>consumeTag</code> and <code>dirtyTagFor</code>. The ‚Äútags‚Äù referenced in the functions‚Äô names are lightweight objects which store the global clock value for a given piece of tracked data. For a walkthrough of the implementation, see the <a href="https://www.youtube.com/watch?v=BjKERSRpPeI&amp;feature=youtu.be">Tracking in the Glimmer VM</a> video that <a href="https://www.pzuraq.com">Chris Garrett</a> and I recorded as he helped me fill in some of my gaps in understanding around all of this.</p>
</div>
<pre><code class='JavaScript'><span class="source js"><span class="storage type js">let</span> <span class="variable other readwrite js">person</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">PersonInfo</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">person</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>  <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> -&gt; `markAsUsed(person, &#39;name&#39;)`
</span></span></code></pre>
<p>Critically, the exact same thing is true if we use getters which <em>refer</em> to the tracked property. When we add the <code>nameLength</code> getter, which computes its value by referring to <code>this.name</code>, using that getter <em>also</em> causes <code>markAsUsed</code> to get run:</p>
<pre><code class='JavaScript'><span class="source js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">tracked</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/tracking<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">Person</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  @tracked name = &#39;&#39;;

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>
<span class="punctuation section block js">}</span></span></span>

<span class="storage type js">let</span> <span class="variable other readwrite js">person</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">Person</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">person</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
</span></code></pre>
<p>First, <code>@tracked</code> turns <code>name</code> into a getter/setter pair, just as we saw above. Second, <code>nameLength</code> gets the value of <code>name</code>. The getter for <code>name</code> first runs <code>markAsUsed(this, 'name')</code>, then returns the actual value stored in <code>#name</code>. This would remain true no matter how many getters we chained together: by the end, they would all end up using <code>name</code>, which would call <code>markAsUsed(this, 'name')</code>.</p>
<pre><code class='JavaScript'><span class="source js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">tracked</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/tracking<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">Person</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  @tracked name = &#39;&#39;;

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">remaining</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">showError</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = (value) =&gt; this.name = value;
<span class="punctuation section block js">}</span></span></span>

<span class="storage type js">let</span> <span class="variable other readwrite js">person</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">Person</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>

<span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> Person.showError -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>   Person.remaining -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>     Person.nameLength -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>       Person.name *getter* -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>         markAsUsed(this, &#39;name&#39;)
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>         this.#name
</span><span class="meta function-call method js"><span class="support type object console js">console</span><span class="punctuation accessor js">.</span><span class="support function console js">log</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">person</span><span class="punctuation accessor js">.</span><span class="meta property object js">showError</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
</span></code></pre>
<p>Similarly, changing the value of <code>name</code> would invoke <code>markAsChanged</code> via the setter installed by <code>@tracked</code>:</p>
<pre><code class='JavaScript'><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> Person.name *setter* -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>   markAsChanged(this, &#39;name&#39;)
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>   this.#name
</span><span class="variable other object js">person</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris<span class="punctuation definition string end js">&quot;</span></span><span class="punctuation terminator statement js">;</span>

<span class="comment line double-slash js"><span class="punctuation definition comment js">//</span> Person.updateName -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>   Person.name *setter* -&gt;
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>     markAsChanged(this, &#39;name&#39;)
</span><span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>     this.#name
</span><span class="variable other object js">person</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">updateName</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted double js"><span class="punctuation definition string begin js">&quot;</span>Chris Krycho<span class="punctuation definition string end js">&quot;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
</span></code></pre>
<p>Exactly the same things happen if we render values or trigger changes from a Glimmer component‚Äôs template‚Äîas in the code example from the introduction:</p>
<pre><code class='JavaScript'><span class="source js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="variable other readwrite js">Component</span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/component<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">tracked</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@glimmer/tracking<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="storage type js">const</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator assignment js">=</span> <span class="constant numeric js">10</span><span class="punctuation terminator statement js">;</span>

<span class="meta export js"><span class="keyword control import-export js">export</span> <span class="keyword control import-export js">default</span> <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">PersonInfo</span> <span class="storage modifier extends js">extends</span> <span class="entity other inherited-class js">Component</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  @tracked name = &#39;&#39;;

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">nameLength</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span><span class="punctuation accessor js">.</span><span class="meta property object js">length</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">remaining</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable other constant js">MAX_LENGTH</span> <span class="keyword operator arithmetic js">-</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">nameLength</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  <span class="meta function declaration js"><span class="storage type accessor js">get</span> <span class="entity name function js">showError</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="keyword control flow js">return</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">remaining</span> <span class="keyword operator relational js">&lt;</span> <span class="constant numeric js">0</span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>

  updateName = ({ target: { value <span class="punctuation section block js">}</span></span></span></span> }<span class="invalid illegal stray-bracket-end js">)</span> <span class="storage type function arrow js">=&gt;</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">name</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">value</span><span class="punctuation terminator statement js">;</span>
}
</span></code></pre><pre><code>&lt;div&gt;
  &lt;input {{on &quot;input&quot; this.updateName}} value={{this.name}} /&gt;
  &lt;p class={{if this.showError &quot;error&quot;}}&gt;
    ({{this.remaining}} remaining)
  &lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>Using <code>this.name</code> in the template directly evaluates <code>name</code>, which is the getter set up by <code>@tracked</code> and therefore calls <code>markAsUsed(this, 'name')</code>. Likewise, using <code>this.showError</code> and <code>this.nameLength</code> in the template evaluates those getters, which ultimately evaluate <code>name</code>, which again calls <code>markAsUsed(this, 'name')</code>. Calling <code>markAsUsed</code> tells the autotracking runtime that <code>this.name</code> is used to compute <code>name</code>, <code>remaining</code> and <code>showError</code> in the <code>PersonInfo</code> component‚Äôs template.</p>
<p>Triggering <code>updateName</code> by typing into the input invokes the setter for <code>name</code> installed by <code>@tracked</code>, and the setter calls <code>markAsChanged(this, 'name')</code>. Calling <code>markAsChanged</code> increments the global clock value, stores the updated clock value as the new clock value for <code>this.name</code>, and schedules a re-render.</p>
<p>With these pieces in place, we can start to see how the system works as a whole. Reading a <code>@tracked</code> property while evaluating a value in the template informs the Glimmer VM that it was used in computing that template value. Changing a <code>@tracked</code> property bumps the global and property clock values and schedules a new render. This leads us to idea (3): using the global clock values to know when to recompute values in templates.</p>
<h3>(3) Recomputing</h3>
<p>When rendering templates,<sup class="footnote-reference"><a href="#reactive-again">8</a></sup> the runtime sets up what is called a <em>tracking frame</em> for each new ‚Äúcomputation‚Äù in the UI‚Äîvalues, components, helpers, modifiers, etc. A tracking frame is basically just a list of all the tracked properties that called <code>markAsUsed</code> while computing any particular value in the template. Since each tracking frame corresponds to a dynamic element of the UI, evaluating the entire UI the first time it is rendered produces a tree of tracking frames which corresponds exactly to the tree of UI components. Critically, though, a tracking frame doesn‚Äôt store the <em>values</em> of the tracked properties referenced during its computation. Instead, the frame stores only a reference to each property along with the property‚Äôs current and previous global clock values.</p>
<p>In a normal JavaScript invocation, there is no active tracking frame, so calling <code>markAsUsed</code> is a no-op. When rendering, a tracking frame <em>does</em> exist, and it ends up populated with the clock values for all the tracked properties used while calculating that value. When a given tracking frame ‚Äúcloses‚Äù, as at the close of a component invocation, it computes its <em>own</em> clock value. A tracking frame‚Äôs clock value is the maximum clock value of any of the properties marked as used in that frame. Since clock values are integers, this maximum clock value can be computed very simply: by using <code>Math.max</code>.<sup class="footnote-reference"><a href="#math-max">9</a></sup></p>
<p>As we saw above, changes enter the system by setting tracked properties. Recall that invoking <code>markAsChanged</code> bumps both the overall global clock value and the clock value for that property, and schedules a new render.<sup class="footnote-reference"><a href="#coalescing">10</a></sup> When the Glimmer VM re-renders, it can traverse the tree in a <a href="https://medium.com/basecs/demystifying-depth-first-search-a7c14cccf056">depth-first search</a>, comparing each frame‚Äôs current and cached clock values. If the clock value for a given frame hasn‚Äôt changed, nothing below it in the UI tree has changed, either‚Äîso we know we don‚Äôt need to re-render it. Checking whether that clock value has changed is literally just an integer equality check. At the nodes which <em>have</em> changed, the VM computes the new value and updates the DOM with the result.</p>
<div class="footnote-definition" id="math-max"><sup class="footnote-definition-label">9</sup>
<p>There are some details about how it checks the tree and makes sure that it manages its internal state correctly, but it really is <a href="https://github.com/glimmerjs/glimmer-vm/blob/e8e2fc6f39a60baac2b72c1a19aea9585b162c47/packages/%40glimmer/validator/lib/validators.ts#L130:L172">using <code>Math.max</code></a>.</p>
</div>
<div class="footnote-definition" id="reactive-again"><sup class="footnote-definition-label">8</sup>
<p>or when using a ‚Äúreactive function‚Äù via <a href="https://emberjs.github.io/rfcs/0626-invoke-helper.html">the upcoming <code>invokeHelper</code> functionality</a></p>
</div>
<div class="footnote-definition" id="coalescing"><sup class="footnote-definition-label">10</sup>
<p>The VM coalesces these bumps so if you set a bunch of values in response to user action or API responses or other inputs, it only triggers <em>one</em> re-render, not <em>many</em>.</p>
</div>
<h2>Summary</h2>
<p>There are a handful of really delightful consequences of this system:</p>
<ul>
<li>
<p>Re-renders are about as cheap as they possibly can be: all the state computations are simple integer math.</p>
</li>
<li>
<p>Intermediate, ‚Äúderived‚Äù state gets computed on demand when the state it depends on changes‚Äîbut with normal JavaScript semantics, without extra developer-facing boilerplate or end-user impact on performance.</p>
</li>
<li>
<p>It‚Äôs trivial to layer your own caching or memoization on top of these semantics if you need them, but you only pay for what you need.</p>
</li>
<li>
<p>All the ‚Äúsmarts‚Äù lives at the very edge of the system, in root state marked with <code>@tracked</code> and leaf values computed in reactive contexts like templates.</p>
</li>
</ul>
<p>Hopefully this has give you a good idea how autotracking works in general, and specifically how it simultaneously enables most of our code to be ‚Äújust JavaScript‚Äù <em>and</em> gives us a very low-cost reactivity.</p>
<p>:::callout</p>
<p>You can discuss this <a href="https://news.ycombinator.com/item?id=24560106">Hacker News</a>, <a href="https://lobste.rs/s/amklz3/autotracking_elegant_dx_via_cutting_edge">lobste.rs</a>, or <a href="https://discuss.emberjs.com/t/autotracking-elegant-dx-via-cutting-edge-cs/18231">Ember Discuss</a>.</p>
<p>If you‚Äôd like to see some of the details of how these pieces are implemented, check out <a href="https://www.youtube.com/watch?v=BjKERSRpPeI&amp;feature=youtu.be">the video</a> of my conversation with Ember core team member and Glimmer VM contributor <a href="https://www.pzuraq.com">Chris Garrett</a> (<a href="https://github.com/pzuraq/">@pzuraq</a>). Chris also gave a <a href="https://www.youtube.com/watch?v=HDBSU2HCLbU">great talk on autotracking</a> at EmberConf 2020, and wrote up a series of blog posts on the subject:</p>
<ol>
<li><a href="https://www.pzuraq.com/what-is-reactivity/">What is Reactivity?</a></li>
<li><a href="https://www.pzuraq.com/what-makes-a-good-reactive-system/">What Makes a Good Reactive System?</a></li>
<li><a href="https://www.pzuraq.com/how-autotracking-works/">How Autotracking Works</a>‚Äîthe most direct complement to <em>this</em> post</li>
<li><a href="https://www.pzuraq.com/autotracking-case-study-trackedmap/">Autotracking Case Study - TrackedMap</a></li>
</ol>
<p>Readers interested in the underpinnings of autotracking may want to take a look at <a href="http://adapton.org">Adapton</a>, the original research implementation of the specific theory of ‚Äúincremental computation‚Äù underpinning autotracking. For another ‚Äúreal-world‚Äù implementation of the same ideas, check out <a href="https://salsa-rs.github.io/salsa/">salsa</a>: a <a href="https://www.rust-lang.org">Rust</a> implementation of incremental computation which powers the <a href="https://rust-analyzer.github.io">rust-analyzer</a> language server.</p>
<p>:::</p>
<p>*[VM]: virtual machine</p>
<p>*[API]: application programming interface</p>
<p>*[UI]: user interface</p>
<p>*[DOM]: document object model</p>

                            </body>
                        </html>